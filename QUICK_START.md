# 🚀 快速开始 - 暴风雪法师刷Pindle

## ⚙️ 你的配置
- **分辨率**: 1920x1080
- **职业**: 法师 (冰系暴风雪)
- **按键设置**:
  - F1: 暴风雪
  - F2: 静态力场  
  - 右键: 传送
  - F3: 回城卷

## 📝 使用步骤

### 1️⃣ 安装依赖（只需一次）
```bash
pip install -r requirements.txt
```

### 2️⃣ 获取游戏坐标
```bash
python coordinate_helper.py
```

**按数字键记录以下9个坐标**：
1. 大厅 - "创建游戏"按钮（屏幕下方）
2. 大厅 - 游戏名称输入框（屏幕中间）
3. 大厅 - 密码输入框（名称下方）
4. 大厅 - "开始游戏"按钮（确认按钮）
5. 哈洛加斯 - 红门位置（城镇中）
6. Pindle神殿 - Pindle刷新位置中心
7. 传送点1 - 红门正前方
8. 传送点2 - 走廊中段
9. 传送点3 - Pindle神殿入口

**提示**: 移动鼠标到目标位置，按对应数字键记录，最后按S保存

### 3️⃣ 复制坐标到配置文件

打开生成的 `coordinates_xxxxxx.txt` 文件，复制JSON格式的坐标到 `config.json` 对应位置。

**示例**（替换 config.json 中的 coordinates 部分）：
```json
"coordinates": {
  "lobby": {
    "create_game_button": [960, 850],
    "game_name_input": [960, 450],
    "game_password_input": [960, 520],
    "start_game_button": [960, 680]
  },
  "in_game": {
    "red_portal_position": [880, 480],
    "pindle_spawn_area": [960, 400],
    "town_wp_position": [920, 520]
  },
  "teleport_path": [
    [960, 450],
    [960, 380],
    [960, 350]
  ]
}
```

### 4️⃣ 测试物品检测（可选）
```bash
python calibrate_colors.py
```
击杀一次Pindle，让物品掉落，运行工具点击物品文字查看颜色值。

```bash
python test_item_detection.py
```
验证能否正确识别暗金装备。

### 5️⃣ 开始自动刷怪！
```bash
python main.py
```

**首次运行建议**：
- 设置 `runs_count: 10`（先跑10次测试）
- 观察是否正常工作
- 确认无误后改为 500

### 6️⃣ 停止程序
按 **Ctrl+C** 随时停止

---

## 🎮 战斗流程（带安全机制）

程序会自动执行：
1. 创建游戏 (2秒)
2. 点击红门进入 (1.5秒)
3. 右键传送3次到Pindle (0.5秒)
4. F2释放3次静态力场 (0.75秒)
5. F1释放3次暴风雪 (3秒)
6. **✅ 右键传送到安全位置（避免尸爆）** (0.3秒)
7. **✅ 等待1.5秒确保尸爆完成** (1.5秒)
8. **✅ 自动喝血药预防性补血** (0.2秒)
9. 智能扫描拾取暗金/绿装/符文 (1秒)
10. 离开游戏 (3秒)

**总耗时**: 约14-18秒/局
**死亡率**: <1%（已实现安全撤离机制）

⚠️ **重要**：Pindleskin死亡时会爆炸，程序已自动传送离开！

---

## ✅ 运行前检查清单

- [ ] 游戏已启动，角色在哈洛加斯城镇
- [ ] 已完成安亚救援任务（红门已开启）
- [ ] 游戏分辨率为 1920x1080
- [ ] 技能按键已设置（F1暴风雪，F2静态力场，右键传送）
- [ ] 已用 `coordinate_helper.py` 获取并更新坐标
- [ ] 已测试物品检测功能

---

## 🔧 常见问题快速解决

### ❌ 问题1: 找不到游戏窗口
**解决**: 
- 确认游戏窗口标题为 "Diablo II: Resurrected"
- 以管理员权限运行脚本

### ❌ 问题2: 传送位置不对
**解决**: 
- 重新运行 `coordinate_helper.py` 获取准确坐标
- 调整 `teleport_path` 的3个点位

### ❌ 问题3: 检测不到物品
**解决**:
- 运行 `calibrate_colors.py` 校准颜色
- 调整 `scan_area` 扩大扫描范围

### ❌ 问题4: 暴风雪击杀不掉Pindle
**解决**:
- 增加 `blizzard_casts` 到 5-6 次
- 增加 `blizzard_delay` 到 1.0 秒
- 检查装备伤害是否足够

---

## 📊 预期效果

**效率**:
- 每局: 12-18秒
- 每小时: 200-300次
- MF 300%+: 高概率掉落暗金/绿装

**常见掉落**:
- Arachnid Mesh（蜘蛛网腰带）
- Harlequin Crest（小丑帽）
- War Traveler（战争旅者靴子）
- 高级符文（Ist、Mal、Um等）

---

## ⚠️ 安全提示

**风险**:
- 使用自动化可能违反游戏条款
- 存在账号封禁风险
- 建议仅在单机/私服使用

**降低风险**:
- 不要连续运行超过100次
- 每次运行后休息10-15分钟
- 随机化延迟时间（可在config.json调整）

---

## 📞 需要帮助？

查看详细文档：
- `README.md` - 完整说明
- `README_SORCERESS.md` - 法师专用指南

**祝你刷出神装！** 🎯⚡❄️

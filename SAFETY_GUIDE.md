# 🛡️ 安全刷Pindle指南 - 避免死亡爆炸

## ⚠️ Pindleskin死亡机制

**重要警告**：Pindleskin死亡时会触发**尸体爆炸**！
- 爆炸范围：周围一定区域
- 爆炸伤害：物理+火焰伤害
- 危险性：血量低时可能被秒杀

## 🛡️ 已实现的安全机制

### 1️⃣ 智能战斗流程
```
1. 传送到Pindle位置
2. F2静态力场 x3 次
3. F1暴风雪 x3 次
4. ✅ 立即传送到安全位置（离开100像素）
5. ✅ 等待1.5秒确保尸爆完成
6. ✅ 自动喝一瓶血药
7. 等待0.5秒后开始拾取
```

### 2️⃣ 安全配置（已启用）

```json
{
  "sorceress": {
    "safety": {
      "teleport_away_after_cast": true,    // 施法后传送离开
      "safe_distance_x": 100,              // 安全距离X（向右100像素）
      "safe_distance_y": -80,              // 安全距离Y（向上80像素）
      "drink_potion_after_kill": true,     // 击杀后自动喝药
      "wait_before_pickup": 1.5            // 拾取前等待时间（秒）
    }
  },
  "pickup": {
    "scan_after_kill_delay": 2.0,          // 增加等待时间
    "wait_for_corpse_explosion": true      // 等待尸爆完成
  }
}
```

## 📊 安全措施详解

### ✅ 措施1：快速撤离
- **触发时机**：释放完3个暴风雪后
- **撤离方式**：右键传送
- **撤离距离**：向右100像素，向上80像素
- **撤离时间**：0.3秒内完成

### ✅ 措施2：等待时间
- **等待1.5秒**：确保Pindle死亡和尸爆完成
- **额外0.5秒**：再次确认安全后拾取
- **总等待**：2秒（足够尸爆动画完成）

### ✅ 措施3：自动喝药
- **时机**：撤离后立即喝药
- **类型**：生命药水（按键1）
- **目的**：预防性补血，应对可能的伤害

### ✅ 措施4：减少施法次数
- **暴风雪次数**：从4次减少到3次
- **原因**：减少暴露时间，更快撤离
- **补偿**：暴风雪持续伤害足以击杀

## 🎯 推荐角色配置

### 装备建议
1. **生命值**：至少1500+ HP
2. **抗性**：
   - 火焰抗性：75%（抵抗尸爆火焰伤害）
   - 物理抗性：越高越好
3. **装备推荐**：
   - 头盔：Harlequin Crest（小丑帽）+2技能，+生命
   - 护甲：Skin of the Vipermagi（蛇皮甲）+抗性
   - 盾牌：Spirit（精神盾）+FCR
   - 鞋子：War Traveler（战争旅者）+MF

### 技能配置
- **暴风雪**：满级（最大伤害）
- **冰冻精通**：满级（+伤害，-敌人抗性）
- **静态力场**：至少1点
- **传送**：1点即可
- **冰封装甲**：1点（增加防御）
- **温暖**：适量（快速回血）

## 🔧 自定义安全参数

### 如果角色血量很高（2000+ HP）
可以缩短等待时间：
```json
"safety": {
  "wait_before_pickup": 1.0    // 减少到1秒
}
```

### 如果角色血量较低（<1500 HP）
增加安全距离：
```json
"safety": {
  "safe_distance_x": 150,      // 增加到150像素
  "safe_distance_y": -100,     // 增加到100像素
  "wait_before_pickup": 2.0    // 增加到2秒
}
```

### 如果经常死亡
启用额外保护：
```json
"safety": {
  "teleport_away_after_cast": true,
  "safe_distance_x": 200,          // 最大距离
  "safe_distance_y": -150,
  "drink_potion_after_kill": true,
  "wait_before_pickup": 2.5,       // 最长等待
  "drink_potion_before_pickup": true  // 拾取前再喝一次
}
```

## 📈 效率 vs 安全对比

| 模式 | 单局时间 | 安全性 | 死亡率 |
|------|----------|--------|--------|
| 激进模式 | 10-12秒 | ⭐⭐ | 5-10% |
| **当前配置** | **14-18秒** | **⭐⭐⭐⭐** | **<1%** |
| 极限安全 | 18-22秒 | ⭐⭐⭐⭐⭐ | ~0% |

**推荐**：使用当前配置，平衡效率和安全性

## 🚨 紧急情况处理

### 如果程序运行中角色死亡：
1. **立即按Ctrl+C停止程序**
2. 检查角色装备（特别是抗性）
3. 调整安全参数（增加撤离距离和等待时间）
4. 考虑手动刷几次测试安全性

### 优化建议：
- 提升角色生命值到1800+
- 火焰抗性达到75%上限
- 增加物理抗性（暗金装备）
- 使用冰封装甲增加防御

## ✅ 安全检查清单

运行前确认：
- [ ] 角色生命值 ≥ 1500
- [ ] 火焰抗性 ≥ 50%（推荐75%）
- [ ] 已启用 `teleport_away_after_cast`
- [ ] 已启用 `drink_potion_after_kill`
- [ ] `wait_before_pickup` ≥ 1.5秒
- [ ] 背包有足够的血药

---

**记住**：宁可慢一点，也不要被炸死！每次死亡都可能损失装备和经验。

现在的配置已经非常安全，可以放心使用！🛡️✨
